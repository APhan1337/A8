<html>

<head>
	<title>EZ Audit</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery.js"></script>
	<link rel="stylesheet" href="css/styles.css">
</head>

<body>
	<header class="student-info">
		<div class="container">
			<div class="student-info__heading">
				<h1><a href="/journey">‚Üê</a></h1>
				<h1 class="title">Required Courses</h1>

			</div>
			{{> user user=user}}
			<a class="btn btn-secondary" href="/print" role="button">Print Degree Audit</a>
		</div>
	</header>

	<main class="container">
		<section class="mb-3">
			<h1 class="mb-3">Major Requirements</h1>
			<div class="accordion">
				{{#each majors}}
				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
							data-bs-target="#{{id}}" aria-expanded="true" aria-controls={{id}}>
							{{title}}
						</button>
					</h2>
					<div id={{id}} class="accordion-collapse collapse">
						<div class="accordion-body">
							<h3>{{number}}</h3>
							<p>
								{{description}}
							</p>
							<a class="btn btn-secondary"
								href="https://cape.ucsd.edu/responses/Results.aspx?Name=&CourseNumber={{cape}}"
								target="_blank" rel="noreferrer noopener" role="button">Previous Evaluations</a>
							<button type="button" class="btn btn-primary comment-btn" data-bs-toggle="modal"
								data-bs-target="#comment-modal" data-course-id={{id}} data-course-type="majors">Add
								comment</button>

							<h3 class="mt-3">Student Comments</h3>

							<ul id="comments-{{id}}">
								{{#each evals}}
								<li>{{this}}</li>
								{{/each}}
							</ul>
						</div>
					</div>
				</div>
				{{/each}}
			</div>
		</section>

		<section class="mb-3">
			<h1 class="mb-3">Minor Requirements</h1>
			<div class="accordion">
				{{#each minors}}
				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
							data-bs-target="#{{id}}" aria-expanded="true" aria-controls={{id}}>
							{{title}}
						</button>
					</h2>
					<div id={{id}} class="accordion-collapse collapse">
						<div class="accordion-body">
							<h3>{{number}}</h3>
							<p>
								{{description}}
							</p>
							<a class="btn btn-secondary"
								href="https://cape.ucsd.edu/responses/Results.aspx?Name=&CourseNumber={{cape}}"
								target="_blank" rel="noreferrer noopener" role="button">Previous Evaluations</a>
							<button type="button" class="btn btn-primary comment-btn" data-bs-toggle="modal"
								data-bs-target="#comment-modal" data-course-id={{id}} data-course-type="minors">Add
								comment</button>

							<h3 class="mt-3">Student Comments</h3>

							<ul id="comments-{{id}}">
								{{#each evals}}
								<li>{{this}}</li>
								{{/each}}
							</ul>
						</div>
					</div>
				</div>
				{{/each}}
			</div>
		</section>

	</main>

	<div class="offset"></div>

	{{> nav required=true}}

	<div class="modal fade" id="comment-modal" tabindex="-1" aria-labelledby="comment-modal-label" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Add your comment</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form id="add-comment-form" role="form" class="" novalidate>
						<div class="form-group">
							<textarea class="form-control" id="comment" rows="3" required></textarea>
						</div>
						<input type="submit" id="submit-btn" class="btn btn-primary mt-4" value="Add comment"></input>
					</form>
				</div>
			</div>
		</div>
	</div>

	<script src="js/required.js"></script>
</body>

</html>